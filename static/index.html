<!doctype html>
<html class="no-js" lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>scoreboard</title>
		<link rel="stylesheet" href="css/foundation.css" />
		<link href='http://fonts.googleapis.com/css?family=Press+Start+2P' rel='stylesheet' type='text/css'>
		<script src="js/vendor/modernizr.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.13/angular.min.js"></script>
	</head>
	<body ng-app="scoresApp">
		<div class="row">
			<div class="large-12 columns">&nbsp;</div>
		</div>
		<div class="row">
			<div class="large-12 columns">
				<h2 class="text-center">Scoreboard</h2>
			</div>
		</div>
		<br><br>
		<div class="row">
			<div class="large-12 columns">
				<h3 class="text-center"><u>Top 100 Scores</u></u></h3>
			</div>
		</div>
		<br>

		<div class="row" ng-controller="setScores">
			<ul class="small-block-grid-3" ng-repeat="scores in ListOfScores">
				<li class="text-center">#{{scores.place}}</li>
				<li class="text-center">{{scores.name}}</li>
				<li class="text-center">{{scores.value}}</li>
			</ul>
		</div>
		<script src="js/vendor/jquery.js"></script>
		<script src="js/foundation.min.js"></script>
		<script>
		$(document).foundation();
		</script>
		<script>

		function pad(number, size) {
			var zeroesToAdd = 7 - size
			var newNumber = number
			for (var x = zeroesToAdd - 1; x >= 0; x--) {
				newNumber = "0" + newNumber
			};
			return newNumber
		}
		var scoresApp = angular.module('scoresApp',[])
	
		function setScores($scope, $http){
			$http({method: 'GET', url: '/games/1/scores'}).success(function(data, status, headers, config) {
				$scope.ListOfScores = data.scores
				for (var score in $scope.ListOfScores){
					var value = $scope.ListOfScores[score].value;
					var valueLength = value.toString().length;
					$scope.ListOfScores[score].value = pad(value,valueLength)
				}
			}).error(function(data, status, headers, config) {
			});
		}
		</script>
	</body>
</html>
